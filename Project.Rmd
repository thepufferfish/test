---
title: "Passing"
author: "Ian Huff"
date: "9/1/2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
#### Introduction

I wanted to take a look at how pass characteristics affect shooting percentages when players catch-and-shoot. I used the Synergy definition of "catch-and-shoot":  

- Possession Time < 2 seconds  
- Shot Distance > 10 feet  
- Dribbles = 0  

The characteristics I evaluated were the speed of the pass and the angle of the pass in relation to the vector between the shooter and the basket. I calculated the speed by dividing pass distance by time elapsed and the angle through vector algebra. 

I suspected to find most of the results based off of pass angle, as I would think that receiving a shot close to the line to the hoop would allow players to remain square to the basket, increasing the likelihood of a made shot.  

#### Methods  

I did my best to eliminate free throws and heaves (shots from over 35 feet), as there was no identifier, and eliminate obvious junk data such as negative pass speed or pass speed over 100 mph. This left me with 106,416 shots off catch-and-shoot.

I split the data into training and test sets of 60% and 40%, respectively. I found players that had less than 30 shots in either set and made them the baseline factor for the shooter variable. I then used logistic regression to model these shots with two forward step algorithms to find relevant variables using AIC and the AUC for the Receiver Operating Characteristics (ROC) curve.

I identified the following variables provided the most information: time left on shot clock; shot distance; nearest defender distance; quarter (mostly fourth quarter); pass speed; and pass angle.  

The algorithms rejected including a factor for shooter because of the number of additional parameters, but I chose to include this because it provided a better fit and makes common sense. Factors for passer and defender did not improve the fit.

The final model correctly identifies make or miss for a modest 56% of individual shots in the test data set. 

#### Insights  

* The speed of the pass was one of the most powerful variables for prediction, suggesting that an extra 10 mph on a pass could increases shooting percentage by over 5%.   

* Pass angle was statistically significant but not as practically so; increasing the angle to the basket by 45 degrees lowers shooting percentage by 1.2%.  

* Pass speed showed a stronger relationship with made shots for three pointers than shots inside the arc. This plot shows the average speed of pass received against the shooting percentages for individual players separated into twos and threes.  

  ![Shooting Percentage vs Pass Speed](~/fg_vs_pass_speed.png)  

* You might think that the relationship comes because a faster pass leads to further defender distance. Pass speed and defender distance actually have the opposite relationship. I suspect due to passers putting more speed on the ball to fit into smaller windows.  

  ![Nearest Defender vs Pass Speed](~/ndd_vs_pass_speed.png)  

#### Implications  

For coaches, I would use this information to emphasize making crisp passes on the perimeter. Not at the expense of accuracy, of course. It also confirms the power of playing inside-out. Receiving crisp passes not far from the line to the hoop significantly increases shooting percentages.  

For management, I would seek to identify sharpshooters who are receiving slow passes and could stand to see a boost to their percentages if those passes get faster. I would also seek to identify players who throw fast passes out to the perimeter.  

#### Limitations  

There are many variables I couldn't account for like pass accuracy, speed of the close out, player fatigue, etc. Some values for pass speed may be off for short passes due to rounding in the game and shot clock. I would have liked to explore interactions between variables but couldn't due to the size of the data set and the number of potential variables.  